<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Lavinia, Will You Be My Valentine? ğŸ’•</title>
<link rel="stylesheet" href="style.css">
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
</head>
<body>

<div class="container">
<h1>Lavinia ğŸ’–</h1>
<p id="proposalText" class="typing"></p>
<div class="gif-container">
<img src="images/bubu2.gif" alt="Bubu">
<img src="images/dudu2.gif" alt="Dudu">
</div>
<div style="margin-top:40px; position:relative;">
<button id="yesBtn" class="pulse">YES ğŸ’–</button>
<button id="noBtn" style="margin-left:15px;background:#ff99c8;">No ğŸ˜¢</button>
</div>
</div>

<!-- Floating hearts -->
<div id="hearts"></div>

<audio id="bgMusicProposal" autoplay loop muted>
<source src="music/love.mp3" type="audio/mpeg">
</audio>

<script>
// Typing effect
const proposalText = "Would you make me the happiest person aliveâ€¦\nand be my Valentine? ğŸ’•\n\nI promise hugs, laughter, silly moments, and endless love.\nAnd maybe a few Bubu & Dudu adventures too! ğŸ¥°";
let indexP=0;
function typeProposal(){
  if(indexP < proposalText.length){
    document.getElementById("proposalText").innerHTML += proposalText.charAt(indexP);
    indexP++;
    setTimeout(typeProposal,35);
  }
}
typeProposal();

// Music unmute on first click
document.body.addEventListener('click', ()=>{
  const music=document.getElementById('bgMusicProposal');
  music.muted=false;
  music.play();
},{once:true});

// YES/NO logic
let noCount=0;
let yesSize=18;
const phrases=["Are you sure? ğŸ¥º","Really sure? ğŸ˜­","Think again ğŸ’—","I'll be sad love ğŸ¥¹","YES is cuter ğŸ‘€","Please? ğŸ’•","Don't leave me hanging ğŸ˜¢","Say yes? ğŸ¥°"];

document.getElementById("noBtn").addEventListener("click",()=>{
  const noBtn=document.getElementById("noBtn");
  const yesBtn=document.getElementById("yesBtn");
  noBtn.innerText=phrases[noCount%phrases.length];
  noCount++;
  yesSize+=6;
  yesBtn.style.fontSize=yesSize+"px";
  noBtn.style.position="absolute";
  noBtn.style.left=Math.random()*200-100+"px";
  noBtn.style.top=Math.random()*80-40+"px";
});

// YES button click
document.getElementById("yesBtn").addEventListener("click",()=>{
  confetti({particleCount:300,spread:150,origin:{y:0.6}});
  setTimeout(()=>{window.location.href="memories.html";},1200);
});

// Floating hearts animation
function createHeart(){
  const heart=document.createElement('div');
  heart.className='heart';
  heart.style.left=Math.random()*100+'vw';
  heart.style.fontSize=(10+Math.random()*20)+'px';
  heart.style.animationDuration=(4+Math.random()*4)+'s';
  heart.innerHTML='ğŸ’–';
  document.body.appendChild(heart);
  setTimeout(()=>heart.remove(),8000);
}
setInterval(createHeart,300);
</script>
</body>
</html>
